<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>\
    <link rel="stylesheet" href="style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>

</head>
<body>
    <div class="container border">
        <div class="row">
            <div class="col-12">
                <img src="anh1.jpg" alt="image" class="image" width="100%">
            </div>
        </div>
        <div class="row">
                <nav class="navbar navbar-expand-lg navbar-light bg-light">
                    <div class="container-nav">
                        <ul class="navbar-nav">
                            <li class="nav-item">
                                <a href="#" class="nav-link">Trang chủ</a>
                            </li>
                            <li class="nav-item">
                                <a href="#" class="nav-link" id="btnDK">Đăng ký</a>
                            </li>
                            <li class="nav-item">
                                <a href="#" class="nav-link">Trợ giúp</a>
                            </li>
                        </ul>
                    </div>
                </nav>
        </div>
        <div class="row">
            <table class="table table-bordered table-ligth table-hover table-striped" id="tbDanhSach">
                <tr>
                    <th>STT</th>
                    <th>Mã hộ viên</th>
                    <th>Họ tên</th>
                    <th>Email</th>
                    <th>Tiền dịch dụ</th>
                    <th>Tiền đồ dùng</th>
                    <th>Tổng tiền</th>
                </tr>
                <tr>
                    <th>1</th>
                    <th>123456789</th>
                    <th>Nguyễn Văn A</th>
                    <th>hong@gmail.ccom</th>
                    <th>100000</th>
                    <th>200000</th>
                    <th>300000</th>
                </tr>
            </table>
        </div>
        <div class="modal fade" id="myModal">
            <div class="modal-dialog">
                <div class="modal-content">
                <div class="modal-header">
                    <h5>THÔNG TIN ĐĂNG KÝ</h5>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
                    <form class="form-control">
                        <div class="from-group">
                            <label for="txtMaHV">Mã hộ viên:</label>
                            <input type="text" class="form-control" id="txtMaHV" placeholder="123456789">
                            <span id="tbMa"></span>
                        </div>
                        <div class="form-group">
                            <label for="txtHoTen">Họ tên:</label>
                            <input type="text" class="form-control" id="txtHoTen" placeholder="Tran Thu Trang">
                            <span id="tbHoTen"></span>
                        </div>
                        <div class="form-group">
                            <label for="txtEmail">Email:</label>
                            <input type="text" class="form-control" id="txtEmail" placeholder="trang@iuh.edu.vn">
                            <span id="tbEmail"></span>
                        </div>
                        <div class="form-group">
                            <label for="ddDichVu">Tiền dịch vụ:</label>
                            <select class="form-control" id="ddDichVu">
                                <option>Bơi</option>
                                <option>Yoga</option>
                                <option>Gym</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="txtGiaTien">Giá tiên:</label>
                            <input type="text" class="form-control" id="txtGiaTien">   
                            <span id="tbGiaTien"></span>
                        </div>
                        <div class="form-group">
                            <label">Dồn dùng</label>
                            <div>
                                <label class="checkbox-inline"><input type="checkbox" id="cbAoQuanBoi">Áo quần bơi</label>
                                <label class="checkbox-inline"><input type="checkbox" id="cbPhao">Phao</label>
                                <label class="checkbox-inline"><input type="checkbox" id="cbKinhBoi">Kính Bơi</label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="txtTienDoDung">Tiền đồ dùng:</label>
                            <input type="text" class="form-control" id="txtTienDoDung" value="0">
                            <span id="tbTienDoDung"></span> 
                        </div>
                        <div class="form-group">
                            <label for="txtTongTien">Tổng tiền:</label>
                            <input type="text" class="form-control" id="txtTongTien" value="0">
                            <span id="tbTongTien"></span>
                        </div>
                        <div class="form-group">
                            <input type="button" value="Thanh toán" id="btnSave" class="btn btn-success btn-block">
                            <input type="button" value="Hủy" id="btnCancel" class="btn btn-danger btn-block">
                        </div>
                    </from>
                </div>
                <div class="modal-footer">
                    <h5>Trang thanh toán</h5>
                </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-4">
                <h6>Mã sinh viên: 23669741</h6>
            </div>
            <div class="col-md-4">
                <h6>Họ tên: Nguyễn Quốc Nhựt</h6>
            </div>
            <div class="col-md-4">
                <h6>Phòng thi:______________</h6>
            </div>
        </div>
    </div> 
</body>
<script>
    $(document).ready(function(){
        var i =2;
        $('#btnDK').click(function(){
            $('#myModal').modal('show');
        });

        function KiemTra(){
            var maKT = /^[0-9]{9}$/;
            var maSV = $('#txtMaHV').val();
            if(maSV ===""){
                $('#tbMa').html('Bắt buột nhập mã sinh viên');
                return false;
            }
            if(!maKT.test(maSV)){
                $('#tbMa').html('Mã sinh viên phải là số và có 9 chữ số');
                return false;
            }
            $('#tbMa').html('');
            return true;
        }
        function KiemTraHT(){
            var maKT = /^[A-Z]{1}[a-z]+(\s[A-Z]{1}[a-z]*)+$/;
            var hoTen = $('#txtHoTen').val();
            if(hoTen ===""){
                $('#tbHoTen').html('Bắt buột nhập họ tên');
                return false;
            }
            if(!maKT.test(hoTen)){
                $('#tbHoTen').html('Họ tên phải là chữ và viết hoa chữ đầu');
                return false;
            }
            $('#tbHoTen').html('');
            return true;
        }
        function KiemTraEmail(){
            var email = $('#txtEmail').val();
            if(email ===""){
                $('#tbEmail').html('Bắt buột nhập email');
                return false;
            }
            $('#tbEmail').html('');
            return true;
        }
        $('#ddDichVu').change(function(){
            var giaTRi = $("#ddDichVu option:selected").val();
            if(giaTRi ==="Bơi"){
                $('#txtGiaTien').val('500000');
            }
            if(giaTRi ==="Yoga"){
                $('#txtGiaTien').val('300000');
            }
            if(giaTRi ==="Gym"){
                $('#txtGiaTien').val('400000');
            }
        });
        function TinhTienDoDung(){
            var tienDoDung = 0;
            if($('#cbAoQuanBoi').is(':checked')){
                tienDoDung += 100000;
            }
            if($('#cbPhao').is(':checked')){
                tienDoDung += 50000;
            }
            if($('#cbKinhBoi').is(':checked')){
                tienDoDung += 20000;
            }
            $('#txtTienDoDung').val(tienDoDung);

            var tong = parseInt($('#txtGiaTien').val()) + parseInt($('#txtTienDoDung').val());
            $('#txtTongTien').val(tong);
        }
        $("#cbAoQuanBoi,#cbPhao,#cbKinhBoi").click(TinhTienDoDung);
        $("#btnSave").click(function(){
            if(!KiemTra() || !KiemTraHT() || !KiemTraEmail()){
                return false;
            }
            var ma = $('#txtMaHV').val();
            var ht = $('#txtHoTen').val();
            var email = $('#txtEmail').val();
            var dichVu = $('#ddDichVu option:selected').val();
            var giaTien = $('#txtGiaTien').val();
            var tienDoDung = $('#txtTienDoDung').val();
            var tongTien = $('#txtTongTien').val();
            var them ="<tr><td>" + (i++) + "</td><td>" +ma+"</td><td>"+ht+"</td><td>"+email+"</td><td>"+giaTien+"</td><td>"+tienDoDung+
            "</td><td>"+tongTien+"</td></tr>";
            $('#tbDanhSach').append(them);
            $('#myModal').modal('hide');
            return true;
        });
        $('#btnCancel').click(function(){
            $('#myModal').modal('hide');
        });
    });
</script>
</html>